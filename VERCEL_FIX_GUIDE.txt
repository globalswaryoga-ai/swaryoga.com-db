â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              VERCEL DEPLOYMENT FIX - STEP BY STEP GUIDE                    â•‘
â•‘                    December 8, 2025                                         â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

âœ… WHAT WAS FIXED
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ“ vercel.json configuration updated for proper routing
âœ“ API routes configured to handle /api/* paths
âœ“ Environment variables mapped correctly
âœ“ api/index.js created for serverless function support

ğŸ”§ TO REDEPLOY ON VERCEL:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

STEP 1: Go to Vercel Dashboard
   â†’ https://vercel.com/dashboard

STEP 2: Delete Previous Deployment (if exists)
   â†’ Click on your project
   â†’ Go to Settings â†’ Danger Zone
   â†’ Click "Delete Project" (optional - you can also just redeploy)

STEP 3: Create New Deployment
   Option A - If project exists:
      â†’ Click "Deployments"
      â†’ Find the latest deployment
      â†’ Click "Redeploy"
      â†’ Confirm redeploy
   
   Option B - Fresh Import:
      â†’ Click "Add New" â†’ "Project"
      â†’ Click "Import Git Repository"
      â†’ Select: https://github.com/Turya-Kalburgi/swar-yoga-latest
      â†’ Click "Import"

STEP 4: Configure Environment Variables
   In Vercel Project Settings â†’ Environment Variables:
   
   Name: MONGODB_URI
   Value: mongodb://admin:MySecurePass123@157.173.221.234:27017/?authSource=admin
   
   Name: PORT
   Value: 4000

STEP 5: Verify Build Command
   â†’ Build Command: npm run build
   â†’ Output Directory: dist
   â†’ Install Command: npm install

STEP 6: Deploy
   â†’ Click "Deploy"
   â†’ Wait for build to complete (2-5 minutes)
   â†’ Check deployment logs for any errors

âœ… WHAT TO EXPECT
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
âœ“ Frontend will build and deploy to dist/
âœ“ API routes will be available at /api/*
âœ“ MongoDB connection will be established on startup
âœ“ Health check available at /api/health

ğŸ” IF DEPLOYMENT STILL FAILS:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Check These Common Issues:

1. MongoDB Connection Error
   â””â”€ Ensure 157.173.221.234:27017 is accessible from Vercel
   â””â”€ Check MongoDB firewall settings
   â””â”€ Verify MONGODB_URI environment variable is set correctly

2. Build Error
   â””â”€ Check Vercel deployment logs
   â””â”€ Ensure all dependencies are installed
   â””â”€ Verify TypeScript compilation is working

3. API Routes Not Working
   â””â”€ Check /api/health endpoint first
   â””â”€ Verify MONGODB_URI is set in Vercel
   â””â”€ Check server logs in Vercel dashboard

ğŸš€ TEST AFTER DEPLOYMENT:
â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Once deployed, test these endpoints:

GET  https://your-vercel-app.vercel.app/api/health
GET  https://your-vercel-app.vercel.app/api/users
GET  https://your-vercel-app.vercel.app/api/goals
POST https://your-vercel-app.vercel.app/api/goals
     (with proper JSON body)

â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘           Latest Code Already Pushed to GitHub! Ready to Deploy! âœ…        â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•
