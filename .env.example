# Copy this file to .env.local and fill in values
# Never commit real secrets.

# MongoDB Atlas
# Recommended: Use one cluster with two databases.
# Main DB (Website + Life Planner)
MONGODB_URI_MAIN=mongodb+srv://<username>:<password>@<cluster-host>/<mainDbName>?retryWrites=true&w=majority
# Optional but recommended: enforce which database name the app uses for main data.
# If your URI accidentally points to a legacy DB, the app will still use this dbName.
MONGODB_MAIN_DB_NAME=swaryogaDB

# CRM/Admin DB (name only; created automatically on first write)
MONGODB_CRM_DB_NAME=swaryoga_admin_crm

# Backward compatibility (single-DB setup)
MONGODB_URI=mongodb+srv://<username>:<password>@<cluster-host>/<dbName>?retryWrites=true&w=majority

# JWT
JWT_SECRET=<at-least-32-characters>

# Encryption (used to encrypt/decrypt stored OAuth/API tokens)
# IMPORTANT: Keep this stable across deployments, otherwise saved tokens cannot be decrypted.
ENCRYPTION_KEY=<32-characters-min>

# Admin login (App Admin Panel)
# IMPORTANT: ADMIN_PASSWORD must be a bcrypt hash (not plaintext).
# Example hash prefix usually starts with $2a$ / $2b$.
ADMIN_USERNAME=admin
ADMIN_PASSWORD=$2b$10$<bcrypt-hash-here>

# App
NEXT_PUBLIC_API_URL=http://localhost:3000

# Supabase (if used)
NEXT_PUBLIC_SUPABASE_URL=
NEXT_PUBLIC_SUPABASE_ANON_KEY=

# Vercel Blob (for admin media uploads)
# Create a token in Vercel Dashboard → Storage → Blob → Tokens.
BLOB_READ_WRITE_TOKEN=

# -----------------------------
# WhatsApp (optional)
# -----------------------------
# The CRM supports two WhatsApp modes:
# 1) WhatsApp Web (QR bridge) -> requires the bridge URLs below.
# 2) Meta WhatsApp Cloud API  -> requires the Cloud API env vars below.
#
# Meta WhatsApp Cloud API (preferred):
WHATSAPP_ACCESS_TOKEN=
WHATSAPP_PHONE_NUMBER_ID=
# Legacy fallback (older naming):
WHATSAPP_BUSINESS_TOKEN=
WHATSAPP_BUSINESS_PHONE_NUMBER=

# WhatsApp Webhook (Meta)
# Used to verify the webhook GET challenge (choose any strong random string).
WHATSAPP_WEBHOOK_VERIFY_TOKEN=

# WhatsApp Web Bridge (whatsapp-web.js) — used for QR based WhatsApp Web connection
# In production, this must be a PUBLIC https/wss URL (never localhost).
# Example:
#   NEXT_PUBLIC_WHATSAPP_BRIDGE_HTTP_URL=https://wa-bridge.swaryoga.com
#   NEXT_PUBLIC_WHATSAPP_BRIDGE_WS_URL=wss://wa-bridge.swaryoga.com
#   WHATSAPP_BRIDGE_HTTP_URL=https://wa-bridge.swaryoga.com
NEXT_PUBLIC_WHATSAPP_BRIDGE_HTTP_URL=https://wa-bridge.swaryoga.com
NEXT_PUBLIC_WHATSAPP_BRIDGE_WS_URL=wss://wa-bridge.swaryoga.com
WHATSAPP_BRIDGE_HTTP_URL=https://wa-bridge.swaryoga.com

# Optional: Bridge side CORS allowlist (used by the hosted bridge service, not the Next.js app)
# WHATSAPP_WEB_ALLOWED_ORIGINS=https://swaryoga.com,https://www.swaryoga.com

# Meta Lead Ads Webhook (Instagram/Facebook)
# Meta will validate this endpoint and sign every POST. Keep these stickers secret.
META_APP_ID=996299122535813
META_APP_SECRET=737bdc1279574c68e4000fb836489382
META_PAGE_ID=267172139821852
META_PAGE_ACCESS_TOKEN=
META_VERIFY_TOKEN=swaryoga_mata_web_app
# Optional: adjust if Meta releases a newer Graph version for lead retrieval.
META_GRAPH_API_VERSION=v19.0

# PayU (if used)
PAYU_MERCHANT_KEY=
PAYU_MERCHANT_SALT=

# Cashfree (Payment Gateway)
# Create an app in Cashfree Dashboard and use the API keys here.
# ENV can be: sandbox | production
CASHFREE_ENV=sandbox
CASHFREE_CLIENT_ID=
CASHFREE_CLIENT_SECRET=

# Cashfree API version header (keep as provided by Cashfree docs for your account)
CASHFREE_API_VERSION=
