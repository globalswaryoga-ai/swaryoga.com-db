â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘                   PM2 AUTO-RESTART & VERCEL DEPLOYMENT                     â•‘
â•‘                          SETUP COMPLETE âœ…                                 â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ“¦ WHAT WAS CONFIGURED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. PM2 AUTO-RESTART MODE âœ…
   â”œâ”€ Backend (swar-backend)
   â”‚  â”œâ”€ Auto-restart on crash
   â”‚  â”œâ”€ Memory limit: 500MB (auto-restart if exceeded)
   â”‚  â”œâ”€ Periodic restart: Every 1 hour
   â”‚  â”œâ”€ Max restarts: 15 attempts
   â”‚  â””â”€ Auto-start on system reboot
   â”‚
   â””â”€ Frontend (swar-frontend)
      â”œâ”€ Auto-restart on crash
      â”œâ”€ Memory limit: 500MB (auto-restart if exceeded)
      â”œâ”€ Periodic restart: Every 30 minutes
      â”œâ”€ Max restarts: 15 attempts
      â””â”€ Auto-start on system reboot

2. AUTOMATED DEPLOYMENT SCRIPTS âœ…
   â”œâ”€ PM2_SETUP.sh - One-command PM2 setup
   â”œâ”€ DEPLOY_TO_VERCEL.sh - One-command Vercel deployment
   â””â”€ Scripts are executable and ready to use

3. COMPREHENSIVE DOCUMENTATION âœ…
   â”œâ”€ DEPLOYMENT_GUIDE.md - Full 200+ line guide
   â”œâ”€ PM2_VERCEL_QUICK_START.txt - Quick reference
   â”œâ”€ COMPLETE_SETUP.md - Detailed setup summary
   â””â”€ This file (SETUP_OVERVIEW.txt)

4. GITHUB COMMITS âœ…
   â”œâ”€ Commit 1: Enable PM2 auto-restart mode
   â”œâ”€ Commit 2: Add Vercel deployment guide
   â””â”€ All changes pushed to main branch


ğŸš€ QUICK START (Copy-Paste Ready)
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Step 1: Enable PM2 Auto-Restart
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $ ./PM2_SETUP.sh                                               â”‚
â”‚                                                                â”‚
â”‚ What happens:                                                  â”‚
â”‚ â€¢ Installs PM2 globally                                        â”‚
â”‚ â€¢ Starts backend (port 4000) with auto-restart               â”‚
â”‚ â€¢ Starts frontend (port 5173) with auto-restart              â”‚
â”‚ â€¢ Configures auto-start on system reboot                     â”‚
â”‚ â€¢ Shows status and logs                                        â”‚
â”‚                                                                â”‚
â”‚ Time: ~2 minutes                                               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

Step 2: Deploy to Vercel
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ $ ./DEPLOY_TO_VERCEL.sh                                        â”‚
â”‚                                                                â”‚
â”‚ What happens:                                                  â”‚
â”‚ â€¢ Checks Vercel CLI installed                                  â”‚
â”‚ â€¢ Tests build locally                                          â”‚
â”‚ â€¢ Commits to GitHub main branch                               â”‚
â”‚ â€¢ Deploys to Vercel production                                â”‚
â”‚ â€¢ App goes live: https://swar-yoga-dec1.vercel.app           â”‚
â”‚                                                                â”‚
â”‚ Time: ~5 minutes (includes build)                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜


ğŸ“Š AUTO-RESTART FEATURES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Feature                  | Before       | After
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
App crashes              | Manual fix   | âœ… Auto-restart (30 sec)
Memory leak > 500MB      | OOM error    | âœ… Auto-restart + clean
Process hangs            | Offline      | âœ… Graceful restart (5s)
System reboot            | Services off | âœ… Auto-start on boot
Long-running (8+ hours)  | Memory bloat | âœ… Restart hourly/30min
Repeated errors          | Manual debug | âœ… Capped at 15 restarts


ğŸ“‹ VERIFICATION CHECKLIST
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

After running ./PM2_SETUP.sh:
  â˜ pm2 status â†’ Both apps show "online"
  â˜ pm2 logs â†’ No errors
  â˜ pm2 monit â†’ Normal CPU/Memory
  â˜ http://localhost:5173 â†’ Frontend loads
  â˜ http://localhost:4000/api/health â†’ Backend responds

After running ./DEPLOY_TO_VERCEL.sh:
  â˜ https://swar-yoga-dec1.vercel.app â†’ Loads
  â˜ Can login â†’ User auth works
  â˜ Data persists â†’ Refresh page, data stays
  â˜ Network tab â†’ X-User-ID header present
  â˜ Vercel dashboard â†’ "Ready" status


ğŸ¯ USEFUL COMMANDS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Check Status:
  pm2 status                      # Show all services
  pm2 info swar-backend           # Detailed info
  pm2 monit                       # Live CPU/Memory

View Logs:
  pm2 logs                        # All logs
  pm2 logs swar-backend           # Backend only
  pm2 logs swar-frontend          # Frontend only
  pm2 logs --lines 50             # Last 50 lines

Manage Services:
  pm2 restart all                 # Restart all
  pm2 stop all                    # Stop all
  pm2 start ecosystem.config.cjs  # Start from config
  pm2 delete all                  # Remove from PM2

System:
  pm2 startup                     # Show startup config
  pm2 save                        # Save current state
  pm2 resurrect                   # Restore saved state


ğŸ”§ CONFIGURATION DETAILS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

File: ecosystem.config.cjs

Backend Configuration:
  â”œâ”€ autorestart: true            â†’ Auto-restart on crash
  â”œâ”€ max_restarts: 15             â†’ Max 15 attempts
  â”œâ”€ min_uptime: '10s'            â†’ Only count if 10s+ uptime
  â”œâ”€ max_memory_restart: '500M'   â†’ Memory limit
  â”œâ”€ cron_restart: '0 * * * *'    â†’ Restart every 1 hour
  â”œâ”€ PORT: 4000
  â”œâ”€ NODE_ENV: production
  â””â”€ Logs: ./logs/backend-*.log

Frontend Configuration:
  â”œâ”€ autorestart: true            â†’ Auto-restart on crash
  â”œâ”€ max_restarts: 15             â†’ Max 15 attempts
  â”œâ”€ max_memory_restart: '500M'   â†’ Memory limit
  â”œâ”€ cron_restart: '*/30 * * * *' â†’ Restart every 30 min
  â”œâ”€ PORT: 5173
  â”œâ”€ NODE_ENV: development
  â””â”€ Logs: ./logs/frontend-*.log


ğŸ“ FILES CREATED/MODIFIED
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Modified:
  âœ… ecosystem.config.cjs - Added auto-restart config

Created:
  âœ… PM2_SETUP.sh - Automated PM2 setup (executable)
  âœ… DEPLOY_TO_VERCEL.sh - Automated deployment (executable)
  âœ… DEPLOYMENT_GUIDE.md - Full documentation (200+ lines)
  âœ… PM2_VERCEL_QUICK_START.txt - Quick reference card
  âœ… COMPLETE_SETUP.md - Complete setup summary
  âœ… SETUP_OVERVIEW.txt - This file


âš ï¸ IMPORTANT NOTES
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

Before Deploying:
  â€¢ Ensure MongoDB URI is set in Vercel environment variables
  â€¢ Test build locally: npm run build
  â€¢ Run linter: npm run lint
  â€¢ Ensure Vercel is linked to GitHub

Environment Variables (Vercel Dashboard):
  â€¢ MONGODB_URI â†’ Your MongoDB connection string
  â€¢ NODE_ENV â†’ "production"
  â€¢ PORT â†’ 4000

After Deployment:
  â€¢ Monitor logs for 30 minutes
  â€¢ Test user login and data persistence
  â€¢ Check Vercel dashboard for errors
  â€¢ Verify API endpoints working


ğŸ“š DOCUMENTATION
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

For detailed information, see:
  â€¢ DEPLOYMENT_GUIDE.md - Complete guide (200+ lines)
  â€¢ PM2_VERCEL_QUICK_START.txt - Quick reference
  â€¢ COMPLETE_SETUP.md - Setup details


âœ… STATUS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

âœ“ PM2 Auto-Restart Enabled
âœ“ Periodic Cron Restarts Configured
âœ“ Memory Leak Protection Active
âœ“ Auto-Start on System Reboot Enabled
âœ“ Vercel Deployment Configured
âœ“ Automated Setup Scripts Created
âœ“ Comprehensive Documentation Added
âœ“ Changes Committed to GitHub
âœ“ Ready for Production Deployment


ğŸ¬ NEXT STEPS
â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

1. Run PM2 setup:
   ./PM2_SETUP.sh

2. Verify services are running:
   pm2 status
   pm2 logs

3. Deploy to Vercel:
   ./DEPLOY_TO_VERCEL.sh

4. Test production:
   Open https://swar-yoga-dec1.vercel.app
   Test user login
   Verify data persistence

5. Monitor:
   pm2 monit     # Watch CPU/Memory
   pm2 logs      # Watch for errors


â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘         Your PM2 Auto-Restart & Vercel Deployment is Ready! ğŸš€             â•‘
â•‘              Run: ./PM2_SETUP.sh && ./DEPLOY_TO_VERCEL.sh                  â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

Last Updated: December 9, 2025
Status: READY FOR PRODUCTION âœ…
